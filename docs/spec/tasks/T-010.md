---
id: T-010
title: Mobile integration test suite
status: done
labels: [testing, api, sse]
deps: [T-002, T-003, T-005, T-006, T-007, T-008]
owner: ""
inputs:
  - design/MobileGroups.md
outputs: []
timebox: "2h"
---

## Summary
Build an integration test suite covering the full mobile groups flow (list, roster, latest/query locations, SSE auth + heartbeats) to guard against regressions before reusing the services in web controllers.

## Acceptance Criteria (measurable)
- [x] Integration tests simulate token-authenticated user executing list, members, latest, query endpoints with positive/negative cases.
- [x] SSE integration test validates heartbeat frames and enriched payload arrival on live updates.
- [x] Suite runs within acceptable time and is wired into `dotnet test` (CI-ready).

## Steps
- [x] Read inputs
- [x] Implement integration tests with in-memory data
- [x] Run verification
- [x] Update spec/index.yml (status, deps if changed)

## Verification
- `dotnet test --filter MobileIntegration`

## Notes
Reuse existing in-memory DbContext/test helpers; document any long-running tests or data seeding patterns.
