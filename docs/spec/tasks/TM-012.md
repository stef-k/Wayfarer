---
id: TM-012
title: User UI - Groups and Map
status: todo
labels: [ui]
deps: [TM-005, TM-006, TM-007]
inputs:
  - design/Trusted Managers Mechanism.md
outputs: []
timebox: "2h"
---

## Summary
Provide User area pages for joined groups list/leave, organization peer visibility toggle, and a map view mirroring manager behavior with user-specific visibility rules. Follow the same chronological/timeline logic: a) live by threshold, b) last latest point, c) rest points in viewport. Include a sidebar to pick which of the user's groups/users to display.

## Acceptance Criteria (measurable)
- [ ] Areas/User/Views/Groups/Index.cshtml lists joined groups with leave action.
- [ ] Areas/User/Views/Groups/Map.cshtml renders picker + map; respects visibility settings.
- [ ] wwwroot/js/Areas/User/Groups/map.js integrates latest/query endpoints and SSE.

## Steps
- [ ] Read inputs
- [ ] Add Razor views and JS modules
- [ ] Integrate org visibility toggle (per-user) when Type=Organisation
- [ ] Ensure map parity with manager map logic
- [ ] Update spec/index.yml

## Verification
- dotnet run â†’ /User/Groups and /User/Groups/Map
- Toggle org visibility, verify access rules change accordingly

## Notes
Friends/Family: all members visible; Organisation: gated by group flag and personal opt-out.
