---
id: T-009
title: DTO updates & unit tests
status: todo
labels: [backend, testing]
deps: [T-002, T-003, T-004]
owner: ""
inputs:
  - design/MobileGroups.md
outputs: []
timebox: "2h"
---

## Summary
Finalise DTO changes for mobile (including documentation/comments) and add targeted unit tests for helper services (colour hashing, authorisation, heartbeat scheduling).

## Acceptance Criteria (measurable)
- [ ] DTO classes (`GroupMemberDto`, `MobileGroupSummaryDto`, SSE event DTOs, timeline settings DTOs) include required properties with comments aligned to coding standards.
- [ ] Unit tests cover `UserColorService`, `GroupTimelineService` visibility logic, and heartbeat scheduling helper.
- [ ] XML/inline documentation updated where mobile payloads change.

## Steps
- [ ] Read inputs
- [ ] Update DTOs/docs
- [ ] Add unit tests
- [ ] Run verification
- [ ] Update spec/index.yml (status, deps if changed)

## Verification
- `dotnet test --filter MobileDtoTests`
- `dotnet test --filter GroupTimelineServiceTests`

## Notes
Ensure DTO updates remain backward compatible for web clients (extra properties optional).