---
id: TM-010
title: Manager UI - Map and SSE
status: todo
labels: [ui, sse]
deps: [TM-006]
inputs:
  - design/Trusted Managers Mechanism.md
outputs: []
timebox: "2h"
---

## Summary
Implement Manager map view with group/user picker and a Leaflet map subscribing to per-user SSE channels; reuse map-utils and icon logic.

## Acceptance Criteria (measurable)
- [ ] Areas/Manager/Views/Groups/Map.cshtml renders picker + map layout.
- [ ] wwwroot/js/Areas/Manager/Groups/map.js loads latest/query endpoints and SSE updates.
- [ ] Marker colors/icons match public timeline rules (live vs last).

## Steps
- [ ] Read inputs
- [ ] Build Razor view layout
- [ ] Implement JS to call endpoints and subscribe SSE
- [ ] Test with multiple users; verify visibility rules applied
- [ ] Update spec/index.yml

## Verification
- dotnet run â†’ /Manager/Groups/Map?groupId=...
- Observe SSE updates when selected users move; markers update in real time

## Notes
Subscribe to channels like location-update-{username} via existing SseService.

