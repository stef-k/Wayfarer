<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Wayfarer is a self-hosted travel companion that lets you design trips on a map or import existing routes from Google MyMaps, organise places and routes, and export finished itineraries for sharing or backup. It continuously records your location history, similar to Google Timeline, so you can keep a private journal of where you've been while choosing exactly what to make public. You can share your live or recent location with trusted groups such as family, friends, or teams, and browse public trips and timelines published by other users. The companion Wayfarer.Mobile app connects to your server, sends live GPS updates, works online-first with offline map tiles once cached, and lets you review your trips and follow trusted groups on the go." />
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <title>
        @if (ViewData["Title"] != null)
        {
            @($"{ViewData["Title"]} - Wayfarer")
        }
        else
        {
            @("Wayfarer")
        }
    </title>
    @Html.FrontendImportMap()
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link href="/lib/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    @Html.FrontendGlobalStyles()
    <link rel="stylesheet" href="~/Wayfarer.styles.css" asp-append-version="true" />
    @if (ViewData["LoadLeaflet"] as bool? == true)
    {
        <link rel="stylesheet" href="~/lib/leaflet/leaflet-1.9.4.css" />
        <link rel="stylesheet" href="~/lib/Leaflet.markercluster-1.4.1/dist/MarkerCluster.css" />
        <link rel="stylesheet" href="~/lib/Leaflet.markercluster-1.4.1/dist/MarkerCluster.Default.css" />
    }
</head>
<body data-bs-theme="light">
    <div class="@(ViewData["BodyClass"] as string ?? "container")">
        @if (TempData["AlertMessage"] != null)
        {
            <div class="alert alert-@TempData["AlertType"] alert-dismissible fade show" role="alert">
                @TempData["AlertMessage"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }
        <div id="alertBox" class="alert alert-success alert-dismissible fade" role="alert" style="display: none;">
            <span id="alertMessage">This is a placeholder message.</span>
            <button type="button" class="btn-close" onclick="wayfarer.hideAlert()" aria-label="Close"></button>
        </div>


        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/popperjs/popper.min.js"></script>
    <script src="~/lib/tippy/tippy-bundle.umd.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    @if (ViewData["LoadLeaflet"] == null || (ViewData["LoadLeaflet"] as bool?) != false)
    {
        <script src="~/lib/leaflet/leaflet-1.9.4.js"></script>
        <script src="~/lib/Leaflet.markercluster-1.4.1/dist/leaflet.markercluster.js"></script>
    }

    @Html.FrontendGlobalScripts()
    @await RenderSectionAsync("Scripts", required: false)

</body>
</html>
